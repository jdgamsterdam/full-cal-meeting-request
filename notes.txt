To Delte Everything

drush entity:delete node --bundle=calendar_restriction_instances


http://localhost/form/meeting-request?subject=My Subject&requested_date=11/01/2024&start_time=10:00&end_time=10:30&calendar_restriction_owner=4



<!-- https://www.drupal.org/docs/contributed-modules/bamboo-twig/usage -->


For JavaScript on Calendar Click in AssetInjector JSON

<time class="calendar-view-day__number" datetime="2024-07-07CEST00:00:00" title="0 results for 2024-07-07">7</time>

1. CORS 

Due to Changes in CORS Policies may need to edit :

/public_html/goldbergcf.com/core/assets/scaffold/files/default.services.yml "allowedHeaders" to enable Course
  # Configure Cross-Site HTTP requests (CORS).
  # Read https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS
  # for more information about the topic in general.
  # Note: By default the configuration is disabled.
  cors.config:
    enabled: true
    # Specify allowed headers, like 'x-allowed-header'.
    allowedHeaders: ['*']
    # Specify allowed request methods, specify ['*'] to allow all possible ones.
    allowedMethods: ['*']
    # Configure requests allowed from specific origins. Do not include trailing
    # slashes with URLs.
    allowedOrigins: ['*']
    # Configure requests allowed from origins, matching against regex patterns.
    allowedOriginsPatterns: []
    # Sets the Access-Control-Expose-Headers header.
    exposedHeaders: false
    # Sets the Access-Control-Max-Age header.
    maxAge: false
    # Sets the Access-Control-Allow-Credentials header.
    supportsCredentials: true

2. Import external calendar using FEEDS ical

Full Link ICS

https://outlook.live.com/owa/calendar/00000000-0000-0000-0000-000000000000/5b55a56b-309e-428f-9d07-cc18a04922ed/cid-CC88C0B7EEAFC3FA/calendar.ics
Full Link HTML
https://outlook.live.com/owa/calendar/00000000-0000-0000-0000-000000000000/5b55a56b-309e-428f-9d07-cc18a04922ed/cid-CC88C0B7EEAFC3FA/index.html


Busy

https://outlook.live.com/owa/calendar/00000000-0000-0000-0000-000000000000/a8061369-2197-473b-b89d-dba34055363e/cid-CC88C0B7EEAFC3FA/calendar.ics
https://outlook.live.com/owa/calendar/00000000-0000-0000-0000-000000000000/a8061369-2197-473b-b89d-dba34055363e/cid-CC88C0B7EEAFC3FA/index.html


www.goldbergcf.com/calendar_restrictions_rest

|raw|replace({' ': ''})

3. To Get Data From View as REST 
    a. Set Appropriate Content for JSON.  
    b. In URL  make sure to add ?_format=json at end  /civi_activities_rest?_format=json
    c. Even though the VIEW is set as Unrestricted you still need to set the Authentication Method to Basic Auth and Cookie and Key

4. Create View of Excluded Times 

{{ "now"|date("m/d/Y") }}
{% for i in 0..3 %}
    {{ i }}<br>
{% endfor %}



https://www.goldbergcf.com/all_calendar_restrictions?_format=csv&api-key=fa45e53447db34cf58fa580e9cb79b91


6. Use Webform to Create Restrictions - Download YML when finished


composer require drupal/views_timestamp_to_date
composer require drupal/edtf
composer require drupal/field_time
composer require drupal/views_combine
composer require drupal/formatter_suite
composer require drupal/field_time
composer require drupal/webform_handler_compare_fields
composer require drupal/webform_validation
composer require drupal/bamboo_twig
composer require drupal/webform_content_creator
composer require drupal/restui
composer require key_auth
composer require drupal/view_custom_table
composer require drupal/webform_views
composer require drupal/feeds
composer require drupal/feeds_tamper
composer require drupal/calendar_view
